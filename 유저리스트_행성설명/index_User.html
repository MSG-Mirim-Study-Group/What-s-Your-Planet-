<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link href="https://fonts.googleapis.com/css?family=Akshar&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/css?family=Akaya+Kanadaka&display=swap" rel="stylesheet" />
  <link href="./css/main.css" rel="stylesheet" />
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

  <script>
    function getPlanetData(planet) {
      let namesList = '';
      let namesArray = '';
      let namesHTML = '';
      $.ajax({
        url: 'server_p.php', // PHP 스크립트의 파일 경로 또는 URL
        type: 'GET',
        dataType: 'json',
        data: { planet: planet },
        success: function (response) {
          let userNames = response.user_names; // JSON 데이터에서 user_names 배열 가져오기
          // user_names 배열을 순회하면서 이름을 리스트로 생성
          for (var i = 0; i < userNames.length; i++) {
            namesList += userNames[i] + ',';
          }

          namesArray = namesList.split(','); // `,`를 기준으로 분할하여 배열로 저장
        
          for (var i = 0; i < namesArray.length - 1; i++) {
            var name = namesArray[i].trim(); // 요소 앞뒤 공백 제거

            var names = '<div id="user">' + name + '</div>'; // 실행시킬 HTML 코드
            namesHTML += names; // 생성된 div 요소를 namesHTML에 추가
          }
          console.log(planet)
          switch (planet) {
            case "Earth":
              $('#Earth').html(namesHTML);
              break;
            case "Pluto":
              $('#Pluto').html(namesHTML);
              break;
            case "Neptune":
              $('#Neptune').html(namesHTML);
              break;
            case "Moon":
              $('#Moon').html(namesHTML);
              break;
            case "Saturn":
            $('#Saturn').html(namesHTML);
              break;
            case "Mercury":
            $('#Mercury').html(namesHTML);
              break;
            case "Uranus":
            $('#Uranus').html(namesHTML);
              break;
            case "Sun":
            $('#Sun').html(namesHTML);
              break;
            case "Venus":
            $('#Venus').html(namesHTML);
              break;
            case "Jupiter":
            $('#Jupiter').html(namesHTML);
              break;
            case "Mars":
            $('#Mars').html(namesHTML);
              break;
            case "BlackHole":
              $('#BlackHole').html(namesHTML);
              break;
            }

           // targetElement라는 ID를 가진 요소에 HTML 코드를 삽입
          // $('#targetElement').html(namesHTML);
         

          
        },
        error: function () {
          // 오류 처리
          alert('데이터를 가져오는 중 오류가 발생했습니다.');
        }
      });
      console.log(namesList)
    }
  
    // getPlanetData('planetName');
</script>

  <title>유저리스트</title>
</head>

<body>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script> <!-- jQuery 라이브러리 추가 -->
  <script src="JS/main.js"></script>

  <div style="position: absolute; width: 100%; height: 100%; ">
    <img src="../images/dark_star1.png" style="position: absolute; top: 30%; left: 40%;" alt="이미지1">
    <img src="../images/dark_star1.png" style="position: absolute; top: 50%; left: 20%;" alt="이미지2">
    <img src="../images/dark_star1.png" style="position: absolute; top: 90%; left: 05%;" alt="이미지3">
    <img src="../images/dark_star1.png" style="position: absolute; top: 95%; left: 95%;" alt="이미지4">
    <img src="../images/dark_star1.png" style="position: absolute; top: 55%; left: 85%;" alt="이미지5">
    <img src="../images/dark_star1.png" style="position: absolute; top: 77%; left: 34%;" alt="이미지6">
    <img src="../images/dark_star1.png" style="position: absolute; top: 25%; left: 96%;" alt="이미지4">
    <img src="../images/dark_star1.png" style="position: absolute; top: 05%; left: 05%;" alt="이미지5">
  </div>
  <div class="planet-image" id="SunScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Sun.png" alt=""></button>
        <div class="name">
          태양
        </div>

        <div class="talk">
            내가 왕이 될 상인가
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Sun')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Sun" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Sun');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Sun')"></button>
    </div>
  </div>


  <div class="planet-image" id="MercuryScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Mercury.png" alt=""></button>
        <div class="name">
          수성
        </div>
        <div class="talk">
          지킬 앤 하이드
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Mercury')"></button>
      <div class="square-box" id="userList">

        <div class="list">
          <div id="Mercury" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Mercury');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Mercury')"></button>
    </div>
  </div>


  <div class="planet-image" id="VenusScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Venus.png" alt=""></button>
        <div class="name">
          금성
        </div>
        <div class="talk">
          어디서나 ✨당당✨하게 걷기
        </div>

      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Venus')" ;></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Venus" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Venus');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Venus')"></button>
    </div>
  </div>



  <div class="planet-image" id="EarthScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Earth.png" alt=""></button>
        <div class="name">
          지구
        </div>

        <div class="talk">
          난 모두가 행복했으면 좋겠어!
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Earth')"></button>
      <div class="square-box" id="userList">

        <div class="list">
          <div id="Earth" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Earth');
          </script>
          
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Earth')"></button>
    </div>
  </div>

  <div class="planet-image" id="MoonScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Moon.png" alt=""></button>
        <div class="name">
          달
        </div>
        <div class="talk">
            소심하지만 내 사람은 꼭 지켜야 해!
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Moon')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Moon" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Moon');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Moon')"></button>
    </div>
  </div>


  <div class="planet-image" id="MarsScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Mars.png" alt=""></button>
        <div class="name">
          화성
        </div>
        <div class="talk">
          내가 극단적이라고? 하지만 재밌는걸!
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Mars')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Mars" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Mars');
          </script>
          
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Mars')"></button>
    </div>
  </div>


  <div class="planet-image" id="JupiterScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Jupiter.png" alt=""></button>
        <div class="name">
          목성
        </div>
        <div class="talk">
          푸근하고 든든한
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Jupiter')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Jupiter" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Jupiter');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Jupiter')"></button>
    </div>
  </div>


  <div class="planet-image" id="SaturnScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Saturn1.png" alt=""></button>
        <div class="name">
          토성
        </div>
        <div class="talk">
          얘들아~ 얘들아? 지금 뭐하고 있니??
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Saturn')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Saturn" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Saturn');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Saturn')"></button>
    </div>
  </div>


  <div class="planet-image" id="UranusScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Uranus.png" alt=""></button>
        <div class="name">
          천왕성
        </div>
        <div class="talk">
          어딜가나 인기 절정! 하지만 혼자가 좋아
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Uranus')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Uranus" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Uranus');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Uranus')"></button>
    </div>
  </div>


  <div class="planet-image" id="NeptuneScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Neptune.png" alt=""></button>
        <div class="name">
          해왕성
        </div>
        <div class="talk">
          내가 무섭다고?
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Neptune')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="Neptune" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Neptune');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Neptune')"></button>
    </div>
  </div>


  <div class="planet-image" id="BlackHallScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/BlackHall.png" alt=""></button>
        <div class="name">
          블랙홀
        </div>
        <div class="talk">
          내 에너지를 견딜 사람, 다 나와!
        </div>
      </div>
    </div>

    <div class="right">

      <button class="triangle" id="triangleRight" onclick="goToPage('BlackHall')"></button>
      <div class="square-box" id="userList">
        <div class="list">
          <div id="BlackHall" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1 ></div>
          <script>
            getPlanetData('BlackHall');
          </script>
        </div>
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('BlackHall')"></button>
    </div>
  </div>


  <div class="planet-image" id="PlutoScene">
    <div class="left">
      <div class="planetList">
        <button type="button" class="planet"><img src="../images/planet/Pluto.png" alt=""></button>
        <div class="name">
          명왕성
        </div>
        <div class="talk">
          내 마음대로 살거야 말리지 마!
        </div>
      </div>
    </div>

    <div class="right">
      <button class="triangle" id="triangleRight" onclick="goToPage('Pluto')"></button>

      <div class="square-box" id="userList">
        <div class="list">
          <div id="Pluto" style="color: rgb(253, 253, 253);"><h1>두구두구...과연!?!</h1></div>
          <script>
            getPlanetData('Pluto');
          </script>
        </div>
        
      </div>
      <button class="triangle" id="triangleLeft" onclick="goToPage('Pluto')"></button>
    </div>
  </div>

  <button type="button" class="back" onclick="goBack()">돌아가기</button>
</body>

</html>